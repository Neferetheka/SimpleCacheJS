/*
SimpleCache.js
Useful and tiny library to provide cache for html5 applications
Contact : Neferetheka[at]gmail.com
Copyright (C) 2012  Aerilys

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
*/
function Cache(){var b=this;b.initDB=function(a,d,c){if(!b.isDBSupported())return null;openDatabase(a,d,a,c)};b.isDBSupported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}};b.getItem=function(a){return localStorage.getItem(a+"cache")&&parseInt(localStorage.getItem(a+"cache"))<b.getTS()?(localStorage.removeItem(a),localStorage.removeItem(a+"cache"),null):localStorage.getItem(a)?localStorage.getItem(a):null};b.setItem=function(a,d,c){c=parseInt(c)+b.getTS();
localStorage.setItem(a,d);localStorage.setItem(a+"cache",c)};b.getTS=function(){return Math.round((new Date).getTime()/1E3)}};